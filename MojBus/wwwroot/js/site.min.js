function filterMenu(n,t){var u,f,r;for(u=n.value.toUpperCase(),f=document.getElementById(t),r=f.getElementsByTagName("li"),i=0;i<r.length;i++)stopName=r[i].getAttribute("name"),r[i].style.display=stopName.toUpperCase().indexOf(u)>-1?"":"none"}function ChangeFavourite(n,t,i,r){$.post("/Stops/AddToFavourite",{stopName:t,routeShortName:i,directionId:r},function(t){t?$(n).html('<img class="favouritesStarImage" src="images/starRed.svg" />'):$(n).html('<img class="favouritesStarImage" src="images/starGray.svg" />')})}function RemoveFavourite(n,t,i,r){$.post("/Stops/AddToFavourite",{stopName:t,routeShortName:i,directionId:r},function(t){t||$(n).parent().remove()})}function navigateWithDate(n){window.location.href=`${n}${getDateTimeString()}`}function getDateTimeString(){let n="";$("#timepicker").val()!==undefined&&(n=`T${$("#timepicker").val()}`);let t="";return $("#dateISOFormat").val()!==undefined&&(t=`${$("#dateISOFormat").val()}`),`&date=${t}${n}`}function initMap(){var n=new google.maps.Map(document.getElementById("map")),i=new google.maps.Size(50,50),t=new google.maps.LatLngBounds,u=new google.maps.Marker({position:{lat:lat,lng:lng},map:n,icon:{url:"/images/startStop.svg",scaledSize:i}}),r;t.extend(u.getPosition());endLat!==undefined&&endLng!==undefined&&(r=new google.maps.Marker({position:{lat:endLat,lng:endLng},map:n,icon:{url:"/images/endStop.svg",scaledSize:i}}),t.extend(r.getPosition()));stopsArray!==undefined&&stopsArray.forEach(function(i){if(lat!==i.stopLat&&lng!==i.stopLon){var r=new google.maps.Marker({position:{lat:i.stopLat,lng:i.stopLon},map:n,icon:{url:"/images/intermediateStop.svg",scaledSize:new google.maps.Size(30,30)}});t.extend(r.getPosition())}});n.fitBounds(t)}function tripPlannerSearchParams(n){$(n).attr("href",`/Stops/TripPlanner?stopFrom=${$("#stopFrom").val()}&stopTo=${$("#stopTo").val()}${getDateTimeString()}`)}function uriWithDateTimeToHref(n,t){$(n).attr("href",`${t}${getDateTimeString()}`)}function chosenItemToInput(n,t){document.getElementById(t).value=n}function resetDateAndTimeToCurrent(n,t){$("#datepicker").datepicker("setDate",new Date);$("#timepicker").timepicker("setTime",new Date);$(n).attr("href",`${t}${getDateTimeString()}`)}function resetDateAndTimeToCurrentWithoutNavigation(){$("#datepicker").datepicker("setDate",new Date);$("#timepicker").timepicker("setTime",new Date)}$().ready(function(){$("#accordion").accordion({collapsible:!0,active:!0,heightStyle:"content",autoHeight:!1,clearStyle:!0});$("#datepicker").datepicker({dateFormat:"dd. mm. yy",minDate:0,scrollDefault:"now",altField:"#dateISOFormat",altFormat:"yy-mm-dd"});$("#datepicker").datepicker($.datepicker.regional.si);$("#timepicker").timepicker({timeFormat:"H:i",step:30,scrollDefault:"now"});$("#datepicker").data("date")!==undefined?$("#datepicker").datepicker("setDate",new Date($("#datepicker").data("date"))):$("#datepicker").datepicker("setDate",new Date);$("#timepicker").data("date")!==undefined?$("#timepicker").timepicker("setTime",new Date($("#timepicker").data("date"))):$("#timepicker").timepicker("setTime",new Date);$("#accordion").removeClass("hidden")});var lat,lng,endLat,endLng,stopsArray;